<!-- build time:Tue Jan 03 2023 11:12:54 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="//fastly.jsdelivr.net/gh/ruyueattention/ruyueattention.github.io/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="//fastly.jsdelivr.net/gh/ruyueattention/ruyueattention.github.io/images/favicon.ico"><link rel="mask-icon" href="//fastly.jsdelivr.net/gh/ruyueattention/ruyueattention.github.io/images/logo.svg" color=""><link rel="manifest" href="//fastly.jsdelivr.net/gh/ruyueattention/ruyueattention.github.io/images/manifest.json"><meta name="msapplication-config" content="//fastly.jsdelivr.net/gh/ruyueattention/ruyueattention.github.io/images/browserconfig.xml"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="如月专注" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="如月专注" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="如月专注" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="//fastly.jsdelivr.net/gh/ruyueattention/ruyueattention.github.io/css/app.css?v=0.2.5"><link rel="canonical" href="http://example.com/"><title>如月专注</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><a href="/" class="logo" rel="start"><h1 itemprop="name headline" class="title">如月专注</h1></a></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">如月专注</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/小夫1.png"></li><li class="item" data-background-image="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/小夫2.png"></li><li class="item" data-background-image="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/5.jpg"></li><li class="item" data-background-image="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/小夫6.png"></li><li class="item" data-background-image="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/小夫3.png"></li><li class="item" data-background-image="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/1.png"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="index wrap"><h2 class="divider">文章列表</h2><div class="segments posts"><article class="item"><div class="cover"><a href="/2022/11/29/Java%E5%86%85%E5%AD%98%E9%A9%AC1.5-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%B3%A8%E5%85%A5%E5%86%85%E5%AD%98%E9%A9%AC/" itemprop="url" title="Java内存马1.5:反序列化注入内存马"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/小夫1.png"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-11-29 10:11:21"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-11-29T10:11:21+08:00">2022-11-29</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>3.5k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>3 分钟</span></span></div><h3><a href="/2022/11/29/Java%E5%86%85%E5%AD%98%E9%A9%AC1.5-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%B3%A8%E5%85%A5%E5%86%85%E5%AD%98%E9%A9%AC/" itemprop="url" title="Java内存马1.5:反序列化注入内存马">Java内存马1.5:反序列化注入内存马</a></h3><div class="excerpt"># 前言 - 回显问题 前面我们在注入内存马的时候都是用 JSP 来实现代码执行的，而我们知道，JSP 本质上就是 Servlet，当我们访问 JSP 时，Tomcat 会把这个 JSP 当作一个 Servlet 来编译程.class 然后加载，本质上还是有文件落地的（内存马没落地，但注册内存马的这个 JSP...</div><div class="meta footer"><span><a href="/categories/Java/" itemprop="url" title="Java"><i class="ic i-flag"></i>Java</a></span></div><a href="/2022/11/29/Java%E5%86%85%E5%AD%98%E9%A9%AC1.5-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%B3%A8%E5%85%A5%E5%86%85%E5%AD%98%E9%A9%AC/" itemprop="url" title="Java内存马1.5:反序列化注入内存马" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/11/15/Java%E5%86%85%E5%AD%98%E9%A9%AC1-Servlet-api%E5%86%85%E5%AD%98%E9%A9%AC/" itemprop="url" title="Java内存马1:servlet-api类型内存马"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/1.png"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-11-15 10:11:21"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-11-15T10:11:21+08:00">2022-11-15</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>8.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>8 分钟</span></span></div><h3><a href="/2022/11/15/Java%E5%86%85%E5%AD%98%E9%A9%AC1-Servlet-api%E5%86%85%E5%AD%98%E9%A9%AC/" itemprop="url" title="Java内存马1:servlet-api类型内存马">Java内存马1:servlet-api类型内存马</a></h3><div class="excerpt"># 前言 内存马主要分为以下几类： servlet-api 类 filter 型 servlet 型 spring 类 拦截器 controller 型 Java Instrumentation 类 agent 型 我们这里作为初学内存马萌新，只讨论 servlet-api 类型的内存马。 Q：内存马是什么？ A：对于 servlet-api 类其实就是恶意的 Fileter、Servlet、Listen 之类的 web 组件。 Q：怎么把内存马给注入进目标服务器？ A：JSP 文件（jsp 的本质就是 servlet，在访问时 tomcat 会将.jsp 文件翻译成一个...</div><div class="meta footer"><span><a href="/categories/Java/" itemprop="url" title="Java"><i class="ic i-flag"></i>Java</a></span></div><a href="/2022/11/15/Java%E5%86%85%E5%AD%98%E9%A9%AC1-Servlet-api%E5%86%85%E5%AD%98%E9%A9%AC/" itemprop="url" title="Java内存马1:servlet-api类型内存马" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/11/09/Java%20RMI%EF%BC%88%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%EF%BC%89%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/" itemprop="url" title="Java RMI（远程方法调用）漏洞利用"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/1.png"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-11-09 16:08:21"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-11-09T16:08:21+08:00">2022-11-09</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>8 分钟</span></span></div><h3><a href="/2022/11/09/Java%20RMI%EF%BC%88%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%EF%BC%89%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/" itemprop="url" title="Java RMI（远程方法调用）漏洞利用">Java RMI（远程方法调用）漏洞利用</a></h3><div class="excerpt"># 简介 PS：下面的客户端攻击、服务端攻击、注册中心攻击都是讨论 JEP290 未引入之前的情况。实战遇到，先看看 java 版本，大于等于下面版本的直接看绕过就行了，小于的话看具体情况选择。 Java SE Development Kit 8, Update 121 (JDK 8u121)Java SE Development Kit 7, Update 131 (JDK 7u131)Java SE Development Kit 6, Update 141 (JDK 6u141)我们前面认识了 RMI，也大致了解了 RMI...</div><div class="meta footer"><span><a href="/categories/Java/" itemprop="url" title="Java"><i class="ic i-flag"></i>Java</a></span></div><a href="/2022/11/09/Java%20RMI%EF%BC%88%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%EF%BC%89%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/" itemprop="url" title="Java RMI（远程方法调用）漏洞利用" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/10/06/Java%20RMI%EF%BC%88%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%EF%BC%89%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" itemprop="url" title="Java RMI（远程方法调用）漏洞分析"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/小夫6.png"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-10-06 16:08:21"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-10-06T16:08:21+08:00">2022-10-06</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>6.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>6 分钟</span></span></div><h3><a href="/2022/10/06/Java%20RMI%EF%BC%88%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%EF%BC%89%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" itemprop="url" title="Java RMI（远程方法调用）漏洞分析">Java RMI（远程方法调用）漏洞分析</a></h3><div class="excerpt"># 简介 PS：这里主要是我对 RMI 流程的跟踪，还有一些理解吧。这玩意越学越烦，艹。这篇文章不涉及漏洞利用，想略过原理直接看利用的看下一篇。 RMI (Remote Method Invocation) 即 Java 远程方法调用，RMI 用于构建分布式应用程序，类似于 RPC（Remote Procedure Call Protocol) 远程过程调用协议，RMI 实现了 Java 程序之间跨 JVM 的远程通信，使得一个 JMV 上的对象可以调用另一个 JMV 上的方法（方法在远程 JVM 上执行，只是返回运行结果）。这两个 JVM...</div><div class="meta footer"><span><a href="/categories/Java/" itemprop="url" title="Java"><i class="ic i-flag"></i>Java</a></span></div><a href="/2022/10/06/Java%20RMI%EF%BC%88%E8%BF%9C%E7%A8%8B%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%EF%BC%89%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/" itemprop="url" title="Java RMI（远程方法调用）漏洞分析" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/09/16/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(4)-CC1/" itemprop="url" title="Java反序列化(4)-CC1"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/7.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-09-16 10:11:21"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-09-16T10:11:21+08:00">2022-09-16</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>7.4k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>7 分钟</span></span></div><h3><a href="/2022/09/16/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(4)-CC1/" itemprop="url" title="Java反序列化(4)-CC1">Java反序列化(4)-CC1</a></h3><div class="excerpt"># 简介 Apache Commons Collections 是对 java.util.Collection 的扩展。它增强了 Java 集合框架。 它提供了几个功能来简化收集处理。 它提供了许多新的接口，实现和实用程序。 当我们学习了 URL DNS 链后，我们就大致直到反序列化漏洞是怎么威胁服务器的。我们就可以着手分析 CC 链来增加我们对反序列化漏洞的认识了。 这里我还是跟着 b 站：白日梦组长大佬学习的，环境的搭建可以去 b 站搜他的视频。 然后呢 CC1 其实有两条利用链，其实大差不差。一条利用了 TransformerMap，一条利用了 LazyMap。 #...</div><div class="meta footer"><span><a href="/categories/Java/" itemprop="url" title="Java"><i class="ic i-flag"></i>Java</a></span></div><a href="/2022/09/16/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(4)-CC1/" itemprop="url" title="Java反序列化(4)-CC1" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/09/01/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(3)-URLDNS%E9%93%BE/" itemprop="url" title="Java反序列化(3)-URLDNS链"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/2.png"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-09-01 10:11:21"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-09-01T10:11:21+08:00">2022-09-01</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>1.7k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>2 分钟</span></span></div><h3><a href="/2022/09/01/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(3)-URLDNS%E9%93%BE/" itemprop="url" title="Java反序列化(3)-URLDNS链">Java反序列化(3)-URLDNS链</a></h3><div class="excerpt"># # 简介 这是一个最简单的链，原生 JDK 就存在。也就是说，不需要服务器存在任何特定的第三方组件。如果目标存在反序列化漏洞，那么我们就能够通过这个链来实现 dnslog 功能，从而验证漏洞的存在。 前面我们学习了反序列化的知识，我们也知道了，只需要服务器反序列化了我们传入的对象，我们就有机会进行反序列化漏洞的利用。接着我们来看看这条链的整个过程把。 PS：看了反序列化的基础但还是不太懂的，建议就先分析这条链。 # 分析 # java.net.URL 分析 我的分析不是从入口类开始分析，而是先找到存在漏洞的一个类，然后再往上寻找入口类。 分析 java.net.URL 这个原生...</div><div class="meta footer"><span><a href="/categories/Java/" itemprop="url" title="Java"><i class="ic i-flag"></i>Java</a></span></div><a href="/2022/09/01/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(3)-URLDNS%E9%93%BE/" itemprop="url" title="Java反序列化(3)-URLDNS链" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/08/15/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(2)-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%9F%BA%E7%A1%80/" itemprop="url" title="Java反序列化(2)-反序列化基础"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/小夫6.png"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-08-15 10:11:21"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-08-15T10:11:21+08:00">2022-08-15</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>2.5k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>2 分钟</span></span></div><h3><a href="/2022/08/15/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(2)-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%9F%BA%E7%A1%80/" itemprop="url" title="Java反序列化(2)-反序列化基础">Java反序列化(2)-反序列化基础</a></h3><div class="excerpt"># 简介 PS：跟着大佬学习的，大佬讲得是针不错。https://www.bilibili.com/video/BV16h411z7o9?p=1 Java 序列化是指把 Java 对象转换为字节序列的过程便于保存在内存或文件中，实现跨平台通讯和持久化存储。ObjectOutputStream 类的 writeObject () 方法可以实现序列化。反序列化则指把字节序列恢复为 Java 对象的过程，相应的，ObjectInputStream 类的 readObject ()...</div><div class="meta footer"><span><a href="/categories/Java/" itemprop="url" title="Java"><i class="ic i-flag"></i>Java</a></span></div><a href="/2022/08/15/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(2)-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%9F%BA%E7%A1%80/" itemprop="url" title="Java反序列化(2)-反序列化基础" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/07/30/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(1)-%E5%8F%8D%E5%B0%84%E5%9F%BA%E7%A1%80/" itemprop="url" title="Java反序列化(1)-反射基础"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/3.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-07-30 10:11:21"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-07-30T10:11:21+08:00">2022-07-30</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>5.1k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>5 分钟</span></span></div><h3><a href="/2022/07/30/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(1)-%E5%8F%8D%E5%B0%84%E5%9F%BA%E7%A1%80/" itemprop="url" title="Java反序列化(1)-反射基础">Java反序列化(1)-反射基础</a></h3><div class="excerpt"># 什么是反射和反射机制 反射其实就是把 java 类中的各个成分映射成一个个 java 对象。 即在运行状态中： 1. 对于任意一个类，能够知道这个类的所有属性和方法。 2. 对于任意一个对象，都能够调用它的任意一个属性和方法。 这种动态获取信息及动态调用对象的方法的功能就叫反射机制。 PS：java 中存在一个全局类，名字叫 Class 的类（常说的 class 是一个修饰类的关键字，这里说的 Class 是一个类名，不是关键字），这个 Class 类包含了所有的实例对象，通过操作这个 Class 类，我们就能够操控任意类。 # 为什么 Java...</div><div class="meta footer"><span><a href="/categories/Java/" itemprop="url" title="Java"><i class="ic i-flag"></i>Java</a></span></div><a href="/2022/07/30/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(1)-%E5%8F%8D%E5%B0%84%E5%9F%BA%E7%A1%80/" itemprop="url" title="Java反序列化(1)-反射基础" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/06/24/%E5%9F%9F%E5%A7%94%E6%B4%BE/" itemprop="url" title="域委派的原理与利用"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/wet.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-06-24 13:51:35"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-06-24T13:51:35+08:00">2022-06-24</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>9.8k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>9 分钟</span></span></div><h3><a href="/2022/06/24/%E5%9F%9F%E5%A7%94%E6%B4%BE/" itemprop="url" title="域委派的原理与利用">域委派的原理与利用</a></h3><div class="excerpt"># 域委派 # 是什么？ 域委派是指将域内用户的权限委派给服务账户，使得服务账号能够以用户的权限在域内展开活动。简单的说就是如果一个服务账号上设置了委派属性，那么这个服务就能够以用户权限在域内进行其他操作。翻译过来就是服务能够被（某个用户）委派来进行其他操作。 当然，委派的前提是被委派的用户未设置成不能被委派 委派的简单的一个场景就是如图，域内用户都通过 IIS 统一认证平台来登录，而 IIS 需要使用数据库 SQLSERVER（获其他）来支撑用户的访问。但它本身的权限 iis 不支持它访问...</div><div class="meta footer"><span><a href="/categories/Windows%E5%AE%89%E5%85%A8/" itemprop="url" title="Windows安全"><i class="ic i-flag"></i>Windows安全</a></span></div><a href="/2022/06/24/%E5%9F%9F%E5%A7%94%E6%B4%BE/" itemprop="url" title="域委派的原理与利用" class="btn">more...</a></div></article><article class="item"><div class="cover"><a href="/2022/05/31/SPN%E6%9C%8D%E5%8A%A1%E4%B8%BB%E4%BD%93%E5%90%8D%E7%A7%B0/" itemprop="url" title="SPN服务主体名称"><img data-src="https://ruyue-1258558004.cos.ap-guangzhou.myqcloud.com/note/6.jpg"></a></div><div class="info"><div class="meta"><span class="item" title="创建时间：2022-05-31 16:20:35"><span class="icon"><i class="ic i-calendar"></i> </span><time itemprop="dateCreated datePublished" datetime="2022-05-31T16:20:35+08:00">2022-05-31</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span>2k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span>2 分钟</span></span></div><h3><a href="/2022/05/31/SPN%E6%9C%8D%E5%8A%A1%E4%B8%BB%E4%BD%93%E5%90%8D%E7%A7%B0/" itemprop="url" title="SPN服务主体名称">SPN服务主体名称</a></h3><div class="excerpt">PS: 这篇文章是学习域委派的一个小小的前置知识。 # SPN 是什么？ SPN (ServicePrincipal Names) 服务主体名称，是服务实例 (比如：HTTP、SMB、MySQL 等服务) 的唯一标识符。 Kerberos 认证过程使用 SPN 将服务实例与服务登录账户相关联，如果想使用 Kerberos 协议来认证服务，那么必须正确配置 SPN。（回忆 kerberos 协议，用户拿着 ST 去访问服务是什么？其实不是目标机器，而是 SPN） 如果在整个林或域中的计算机上安装多个服务实例，则每个实例都必须具有自己的...</div><div class="meta footer"><span><a href="/categories/Windows%E5%AE%89%E5%85%A8/" itemprop="url" title="Windows安全"><i class="ic i-flag"></i>Windows安全</a></span></div><a href="/2022/05/31/SPN%E6%9C%8D%E5%8A%A1%E4%B8%BB%E4%BD%93%E5%90%8D%E7%A7%B0/" itemprop="url" title="SPN服务主体名称" class="btn">more...</a></div></article></div></div><nav class="pagination"><div class="inner"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="ic i-angle-right" aria-label="下一页"></i></a></div></nav></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="ruyue" data-src="//fastly.jsdelivr.net/gh/ruyueattention/ruyueattention.github.io/images/avatar.jpg"><p class="name" itemprop="name">ruyue</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">36</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">11</span> <span class="name">分类</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3J1eXVlYXR0ZW50aW9u" title="https:&#x2F;&#x2F;github.com&#x2F;ruyueattention"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/page/2/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Windows%E5%AE%89%E5%85%A8/" title="分类于 Windows安全">Windows安全</a></div><span><a href="/2021/08/27/%E5%88%A9%E7%94%A8DCOM%E8%BF%9B%E8%A1%8C%E6%A8%AA%E5%90%91%E6%B8%97%E9%80%8F/" title="利用DCOM进行横向渗透">利用DCOM进行横向渗透</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Vlunstack/" title="分类于 Vlunstack">Vlunstack</a></div><span><a href="/2021/01/04/Vlunstack2/" title="Vlunsatck2">Vlunsatck2</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2022/11/29/Java%E5%86%85%E5%AD%98%E9%A9%AC1.5-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%B3%A8%E5%85%A5%E5%86%85%E5%AD%98%E9%A9%AC/" title="Java内存马1.5:反序列化注入内存马">Java内存马1.5:反序列化注入内存马</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AE%B9%E5%99%A8%E5%AE%89%E5%85%A8/" title="分类于 容器安全">容器安全</a></div><span><a href="/2022/03/17/docker%E7%BD%91%E7%BB%9C/" title="docker网络">docker网络</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/" title="分类于 服务器配置">服务器配置</a></div><span><a href="/2022/04/13/%E9%80%8F%E6%98%8E%E4%BB%A3%E7%90%86%E6%90%AD%E5%BB%BA/" title="透明代理-clash+ubuntu">透明代理-clash+ubuntu</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Windows%E5%AE%89%E5%85%A8/" title="分类于 Windows安全">Windows安全</a></div><span><a href="/2022/05/31/SPN%E6%9C%8D%E5%8A%A1%E4%B8%BB%E4%BD%93%E5%90%8D%E7%A7%B0/" title="SPN服务主体名称">SPN服务主体名称</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2022/09/16/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(4)-CC1/" title="Java反序列化(4)-CC1">Java反序列化(4)-CC1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2022/08/15/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(2)-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%9F%BA%E7%A1%80/" title="Java反序列化(2)-反序列化基础">Java反序列化(2)-反序列化基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Vlunstack/" title="分类于 Vlunstack">Vlunstack</a></div><span><a href="/2020/10/26/Vlunstack1/" title="Vlunsatck1">Vlunsatck1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/windows%E5%AE%89%E5%85%A8/" title="分类于 windows安全">windows安全</a></div><span><a href="/2022/04/27/kerberos%E8%AE%A4%E8%AF%81/" title="kerberos认证">kerberos认证</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2021 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">ruyue @ 如月专注</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">151k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:17</span></div><div class="powered-by"></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"",favicon:{show:"夺去目光的故事",hide:"蒙上双眼的故事"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//fastly.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="//fastly.jsdelivr.net/gh/ruyueattention/ruyueattention.github.io/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->